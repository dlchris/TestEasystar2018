webpackJsonp([6],{XWoZ:function(t,e){},"uI2+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){var t=this;return{msg:"ccc",ruleForm:{pass:"",checkPass:""},rules:{pass:[{validator:function(e,s,o){""===s?o(new Error("请输入密码")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),o())},trigger:"blur"}],checkPass:[{validator:function(e,s,o){""===s?o(new Error("请再次输入密码")):s!==t.ruleForm.pass?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}]}}},methods:{backToHome:function(){this.$router.replace({name:"archivelist"})},submitForm:function(t){var e=this;console.log("ss",this.ruleForm.pass),this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.axios.get(e.api+e.easyStarAPI.ChangeUserPw,{params:{newPw:e.ruleForm.pass}}).then(function(t){0===t.data.code&&(e.$message({type:"success",message:"密码修改成功!",duration:2e3}),setTimeout(function(){e.exitLogin()},2e3))})})},handleCommand:function(t){switch(t){case"b":this.logOut()}},logOut:function(){var t=this;this.$confirm("您确定退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=t;e.$axios.post(e.api+"/Logout"+e.actionExt).then(function(t){0===t.data.code?e.$router.replace("/login"):e.$message.error(t.data.errMsg)}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},exitLogin:function(){var t=this;t.$axios.post(t.api+"/Logout"+t.actionExt).then(function(e){console.log("跳入验证",e),0===e.data.code?(console.log("dddd"),t.$router.replace("/login")):t.$message.error(e.data.errMsg)}).catch(function(t){console.log(t)})},getPermission:function(t){this.$router.push({name:"permission"})}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"changepsd"},[s("div",{staticClass:"mainpage_header"},[s("div",{staticClass:"header_border"},[t._m(0),t._v(" "),s("div",{staticClass:"header_title"},[t._v("\r\n        欢迎使用今易档案管理系统\r\n      ")]),t._v(" "),s("div",{staticClass:"header_icon"},[s("span",{staticStyle:{cursor:"pointer",margin:"0 20px",visibility:"hidden"}},[s("el-input",{attrs:{placeholder:"请输入内容"}},[s("i",{staticClass:"iconfont icon-sousuo1 message",attrs:{slot:"suffix"},slot:"suffix"})])],1),t._v(" "),s("el-dropdown",{on:{command:t.handleCommand}},[s("span",{staticClass:"el-dropdown-link",staticStyle:{margin:"0 20px",cursor:"pointer"},attrs:{title:"个人中心"}},[s("i",{staticClass:"iconfont icon-yonghu person"})]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{divided:"",command:"b"}},[t._v("退出登录")])],1)],1),t._v(" "),s("span",{staticClass:"exitIcon",staticStyle:{margin:"0 20px",cursor:"pointer"},attrs:{title:"返回"},on:{click:function(e){return e.stopPropagation(),t.backToHome(e)}}},[s("i",{staticClass:"iconfont icon-dingbudaohang-zhangh exit"})])],1)])]),t._v(" "),s("el-row",{staticStyle:{margin:"0px!important",height:"90%"},attrs:{gutter:20}},[s("el-col",{staticStyle:{position:"absolute",top:"15%"},attrs:{span:6,offset:9}},[s("div",[s("h6",{staticClass:"h6_text"},[s("i",{staticClass:"iconfont icon-guanlinggenggaimima",staticStyle:{"font-size":"2em",color:"#409EFF"}}),t._v(" "),s("span",{staticStyle:{display:"inline-block",position:"absolute",top:"10px"}},[t._v("修改密码")])]),t._v(" "),s("el-form",{ref:"ruleForm",staticClass:"demo-changeruleForm",staticStyle:{margin:"50px 10px 0 10px"},attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{staticClass:"changepsd_content",attrs:{label:"密码：",prop:"pass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,"pass",e)},expression:"ruleForm.pass"}})],1),t._v(" "),s("el-form-item",{staticClass:"changepsd_content",attrs:{label:"确认密码：",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.ruleForm.checkPass,callback:function(e){t.$set(t.ruleForm,"checkPass",e)},expression:"ruleForm.checkPass"}})],1),t._v(" "),s("el-form-item",{staticClass:"changepsd_btn"},[s("el-button",{staticClass:"changepsd_submitbtn",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存")])],1)],1)],1)])],1),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"header_logo"},[e("img",{attrs:{src:s("YWup")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mainpage_footer"},[e("p",[this._v("Copyright (c) 2000-2018  天津市天深科技股份有限公司")])])}]};var r=s("C7Lr")(o,a,!1,function(t){s("XWoZ")},null,null);e.default=r.exports}});
//# sourceMappingURL=6.66d7c4a6eb2c68aa4186.js.map